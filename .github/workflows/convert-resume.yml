name: Convert Resume DOCX to HTML

on:
  push:
    paths:
      - 'resume.docx' # Trigger when resume.docx is pushed or updated

jobs:
  convert-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4 # Use v4 for the latest version

      - name: Install Pandoc
        run: |
          sudo apt-get update
          sudo apt-get install -y pandoc

      - name: Convert DOCX to HTML
        run: |
          pandoc -s resume.docx -o index.html

      - name: Add Interactive Elements (Optional - if you want custom CSS/JS)
        run: |
          # This is an example. You'll need to create custom.css and custom.js
          echo '<link rel="stylesheet" href="custom.css">' >> index.html
          echo '<script src="custom.js"></script>' >> index.html

      - name: Upload HTML to GitHub Pages (Example Deployment)
        uses: peaceiris/actions-gh-pages@v3 # Use v3 for stability
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: .
          # Keep history for incremental updates (optional)
          # publish_branch: gh-pages # Default branch for GitHub Pages

      # Alternative: Deploy to Netlify (Requires Netlify CLI and API Token)
      # - name: Deploy to Netlify
      #   run: |
      #     npm install netlify-cli -g
      #     netlify deploy --prod --dir=.
      #   env:
      #     NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
      #     NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
